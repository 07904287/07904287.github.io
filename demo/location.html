<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Celestial Starmap</title>
  <script type="text/javascript" src="../lib/d3.min.js"></script>
  <script type="text/javascript" src="../lib/d3.geo.projection.min.js"></script>
  <script type="text/javascript" src="../celestial.min.js"></script>
  <link rel="stylesheet" href="../celestial.css">
</head>
<body>
  <div style="overflow:hidden;"><div id="celestial-map"></div></div>
  

  <script type="text/javascript">

    $( "#color, #new-date" ).change(function() {
        let bg = $('#color').val();
        let d = $('#new-date').val();
        updateMap(bg, d)
    });

    function updateMap(bg, d) {
        let config = {
            center: [14,56,0],
            background: {
                fill: bg
            }

        };
        // Correct javascript date format
        let date = new Date(d);
        // Set the Celestial date
        Celestial.date(date);

        // Go right and left for the animation bug
        $('#day-right').click();
        $('#day-left').click();

        Celestial.apply(config);
    }
  </script>

  <footer id="d3-celestial-footer">
    <p><a href="https://github.com/ofrohn/d3-celestial"><b>D3-Celestial</b></a> released under <a href="http://opensource.org/licenses/BSD-3-Clause">BSD license</a>. Copyright 2015-19 <a href="http://armchairastronautics.blogspot.com/" rel="author">Olaf Frohn</a>.</p>
  </footer>
</body>
</html>
